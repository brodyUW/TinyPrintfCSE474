<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>TinyPrintfCSE474: TinyPrintf Arduino Mega2560</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">TinyPrintfCSE474
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">TinyPrintf Arduino Mega2560 </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="md_README"></a> This repository contains a modified version of TinyPrintf and an example sketch for usage on the Arduino Mega2560. There are many TinyPrintf solutions out there, and the general purpose is to replace the more "heavy-weight" printf with a smaller and faster version for use on resource limited microcontrollers.</p>
<h2><a class="anchor" id="autotoc_md1"></a>
How to use</h2>
<ol type="1">
<li>Source the <a class="el" href="tinyprintf_8h.html">tinyprintf.h</a> file with an include. It is recommended to place the <a class="el" href="tinyprintf_8c.html">tinyprintf.c</a> and .h files in a "src" folder residing in the folder of your sketch. At the beginning of the sketch: #include "src/tinyprintf.h"</li>
<li>Use printf_t or sprintf_t like the traditional printf and sprintf. Note that in order to make printf "tiny" some of the more extensive formatting options were removed. The following format specifiers are included:<ul>
<li>s: String</li>
<li>c: Char</li>
<li>i: 16 bit interger</li>
<li>u: 16 bit unsigned interger</li>
<li>l: 32 bit long</li>
<li>n: 32 bit unsigned long</li>
<li>x: 16 bit hexadecimal</li>
</ul>
</li>
</ol>
<p><b>printf_t usage:</b> </p><div class="fragment"><div class="line">unsigned char hexValue = 0xFF;</div>
<div class="line">printf_t(&quot;Hex Value = 0x%x\n&quot;, hexValue);</div>
</div><!-- fragment --><p><b>sprintf_t usage:</b> </p><div class="fragment"><div class="line">unsigned char hexValue = 0xFF;</div>
<div class="line">char str[20];</div>
<div class="line">sprintf_t(str, &quot;Hex Value = 0x%x\n&quot;, hexValue);</div>
</div><!-- fragment --><p><b>Limitations:</b> Also notice that the ability to add leading zeros, for example, is not supported. The following will not produce the expected results:</p>
<div class="fragment"><div class="line">printf_t(&quot;Value: 0x02%x\n&quot;);</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md2"></a>
Acknowledgments and Modifications</h2>
<p>TinyPrintf based on OPOSSUM TINYPRINTF <a href="https://forum.43oh.com/topic/1289-tiny-printf-c-version/">https://forum.43oh.com/topic/1289-tiny-printf-c-version/</a>. Modifications:</p>
<ul>
<li>Added a STDOUT switch to enable an sprintf. Modified printf so that printf and sprintf share a common formatting routine. Added a function pointer so that putc, which feeds directly into device specific UART can be decoupled from this source code, which was inspired by this website: <a href="http://www.sparetimelabs.com/tinyprintf/tinyprintf.php">http://www.sparetimelabs.com/tinyprintf/tinyprintf.php</a>.</li>
<li>Recently modified to operate specifically on ArduinoMega 2560 for EE474 class by eliminating function pointer and making the device specific function putcMEGA2560 from putcExt.</li>
</ul>
<h2><a class="anchor" id="autotoc_md3"></a>
In Progress</h2>
<ul>
<li>Updating code to meet Code Standard.</li>
<li>Debugging.</li>
<li>Streamlining for Arduino MEGA2560 specific usage.</li>
<li>Non-blocking version. </li>
</ul>
</div></div><!-- PageDoc -->
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
